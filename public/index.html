<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Administração do Bot</title>
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <div class="container">
        <h1>Painel de Administração do Bot Pavlov</h1>
        <div id="responseMessageGlobal" class="response-message"></div>

        <section id="configSection">
            <h2>Configurações Gerais do Bot</h2>
            <form id="configForm">
                <div class="form-group">
                    <label for="config_GROUP_BASE_NAME">Nome Base do Grupo:</label>
                    <input type="text" id="config_GROUP_BASE_NAME" name="GROUP_BASE_NAME">
                </div>
                <div class="form-group">
                    <label for="config_TARGET_GROUP_ID">ID do Grupo (JID):</label>
                    <input type="text" id="config_TARGET_GROUP_ID" name="TARGET_GROUP_ID">
                </div>
                
                <h3>Horários do Servidor (HH:MM)</h3>
                <div class="form-group">
                    <label for="config_SERVER_OPEN_TIME">Hora de Abertura:</label>
                    <input type="time" id="config_SERVER_OPEN_TIME" name="SERVER_OPEN_TIME">
                </div>
                <div class="form-group">
                    <label for="config_SERVER_CLOSE_TIME">Hora de Fechamento:</label>
                    <input type="time" id="config_SERVER_CLOSE_TIME" name="SERVER_CLOSE_TIME">
                </div>

                <h3>Mensagens Automáticas (Servidor Aberto)</h3>
                <div class="form-group">
                    <label for="config_MESSAGES_DURING_SERVER_OPEN">Qtd. Mensagens (Servidor Aberto):</label>
                    <input type="number" id="config_MESSAGES_DURING_SERVER_OPEN" name="MESSAGES_DURING_SERVER_OPEN" min="0">
                </div>

                <h3>Mensagens Automáticas (Diurnas)</h3>
                <div class="form-group">
                    <label for="config_MESSAGES_DURING_DAYTIME">Qtd. Mensagens (Diurnas):</label>
                    <input type="number" id="config_MESSAGES_DURING_DAYTIME" name="MESSAGES_DURING_DAYTIME" min="0">
                </div>
                <div class="form-group">
                    <label for="config_DAYTIME_START_HOUR">Início Horário Diurno (0-23):</label>
                    <input type="number" id="config_DAYTIME_START_HOUR" name="DAYTIME_START_HOUR" min="0" max="23">
                </div>
                <div class="form-group">
                    <label for="config_DAYTIME_END_HOUR">Fim Horário Diurno (0-23):</label>
                    <input type="number" id="config_DAYTIME_END_HOUR" name="DAYTIME_END_HOUR" min="0" max="23">
                </div>
                
                <!-- Se quiser permitir edição da chave Groq via painel (menos seguro)
                <div class="form-group">
                    <label for="config_GROQ_API_KEY">Chave API Groq (Opcional - Prioriza .env):</label>
                    <input type="password" id="config_GROQ_API_KEY" name="GROQ_API_KEY">
                </div>
                -->
                <button type="submit">Salvar Configurações Gerais</button>
            </form>
            <div id="responseMessageConfig" class="response-message"></div>
        </section>

        <hr>

        <section id="messagesSection">
            <h2>Gerenciamento de Mensagens</h2>
            <p>Aqui você pode editar as mensagens que o bot utiliza. Clique em "Salvar Mensagens" após fazer as alterações.</p>
            <p><strong>Nota:</strong> Para mensagens que são uma lista (como "Novo Membro"), adicione cada nova mensagem em uma nova linha dentro da caixa de texto.</p>

            <form id="messagesForm">
                <h3>Status do Servidor</h3>
                <div class="form-group">
                    <label for="status_closed">Fechado:</label>
                    <textarea id="status_closed" name="status_closed" rows="2"></textarea>
                    <button type="button" class="generate-ai-btn" data-message-type="status_closed" style="margin-left: 10px;">Gerar com IA</button>
                    <div id="aiSpinner_status_closed" class="ai-spinner" style="display: none; margin-left: 5px;">Gerando...</div>
                </div>
                <div class="form-group">
                    <label for="status_openingSoon">Abrindo em Breve:</label>
                    <textarea id="status_openingSoon" name="status_openingSoon" rows="2"></textarea>
                    <button type="button" class="generate-ai-btn" data-message-type="status_openingSoon" style="margin-left: 10px;">Gerar com IA</button>
                    <div id="aiSpinner_status_openingSoon" class="ai-spinner" style="display: none; margin-left: 5px;">Gerando...</div>
                </div>
                <div class="form-group">
                    <label for="status_open">Aberto:</label>
                    <textarea id="status_open" name="status_open" rows="2"></textarea>
                    <button type="button" class="generate-ai-btn" data-message-type="status_open" style="margin-left: 10px;">Gerar com IA</button>
                    <div id="aiSpinner_status_open" class="ai-spinner" style="display: none; margin-left: 5px;">Gerando...</div>
                </div>

                <h3>Boas-vindas e Despedidas</h3>
                <div class="form-group">
                    <label for="newMember">Novo Membro (uma por linha):</label>
                    <textarea id="newMember" name="newMember" rows="5"></textarea>
                    <button type="button" class="generate-ai-btn" data-message-type="newMember" style="margin-top: 10px;">Gerar com IA</button>
                    <div id="aiSpinner_newMember" class="ai-spinner" style="display: none; margin-top: 5px;">Gerando...</div>
                </div>
                <div class="form-group">
                    <label for="memberLeft">Membro Saiu (uma por linha):</label>
                    <textarea id="memberLeft" name="memberLeft" rows="5"></textarea>
                    <button type="button" class="generate-ai-btn" data-message-type="memberLeft" style="margin-top: 10px;">Gerar com IA</button>
                    <div id="aiSpinner_memberLeft" class="ai-spinner" style="display: none; margin-top: 5px;">Gerando...</div>
                </div>

                <h3>Mensagens Aleatórias (Servidor Ativo)</h3>
                <div class="form-group">
                    <label for="randomActive">Mensagens Aleatórias (uma por linha):</label>
                    <textarea id="randomActive" name="randomActive" rows="8"></textarea>
                    <button type="button" id="generateAIMessageBtn" class="generate-ai-btn" data-message-type="randomActive" style="margin-top: 10px;">Gerar Mensagem com IA (Groq)</button>
                    <div id="aiMessageSpinner" class="ai-spinner" style="display: none; margin-top: 5px;">Gerando...</div>
                </div>

                
                <h3>Mensagens Aleatórias (Durante o Jogo)</h3>
                <div class="form-group">
                    <label for="inGameRandom">Mensagens (uma por linha) - Usadas quando o servidor está aberto:</label>
                    <textarea id="inGameRandom" name="inGameRandom" rows="8"></textarea>
                    <button type="button" id="generateAIInGameMessageBtn" class="generate-ai-btn" data-message-type="inGameRandom" style="margin-top: 10px;">Gerar Mensagem "Durante o Jogo" com IA</button>
                    <div id="aiMessageSpinnerInGameRandom" class="ai-spinner" style="display: none; margin-top: 5px;">Gerando...</div>
                </div>


                <h3>Extras</h3>
                <div class="form-group">
                    <label for="extras_sundayNight">Domingo à Noite:</label>
                    <textarea id="extras_sundayNight" name="extras_sundayNight" rows="2"></textarea>
                    <button type="button" class="generate-ai-btn" data-message-type="extras_sundayNight" style="margin-left: 10px;">Gerar com IA</button>
                    <div id="aiSpinner_extras_sundayNight" class="ai-spinner" style="display: none; margin-left: 5px;">Gerando...</div>
                </div>
                <div class="form-group">
                    <label for="extras_friday">Sexta-feira:</label>
                    <textarea id="extras_friday" name="extras_friday" rows="2"></textarea>
                    <button type="button" class="generate-ai-btn" data-message-type="extras_friday" style="margin-left: 10px;">Gerar com IA</button>
                    <div id="aiSpinner_extras_friday" class="ai-spinner" style="display: none; margin-left: 5px;">Gerando...</div>
                </div>

                <button type="submit">Salvar Mensagens</button>
            </form>
            <div id="responseMessageMessages" class="response-message"></div>
        </section>
    </div>

    <script src="admin.js"></script>
</body>
</html> 